<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>RedisTemplate &amp; StringRedisTemplate 使用指南 | 暮雪Avid的博客</title><meta name="author" content="暮雪Avid"><meta name="copyright" content="暮雪Avid"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="RedisTemplate &amp; StringRedisTemplate 使用指南前言由于对于 Redis 始终停留在理论阶段——懂数据结构类型、数据结构底层实现、缓存击穿、缓存穿透、缓存雪崩，还有各种防xxx的方案，但是貌似都停留在学习上、代码阅读上，现在重新补充一下代码实现的细节上。 项目中很多地方使用了 StringRedisTemplate，其实是继承自 RedisTemplate">
<meta property="og:type" content="article">
<meta property="og:title" content="RedisTemplate &amp; StringRedisTemplate 使用指南">
<meta property="og:url" content="https://blogs.muxueavid.top/2025/12/12/Redis/RedisTemplate%E4%BD%BF%E7%94%A8/index.html">
<meta property="og:site_name" content="暮雪Avid的博客">
<meta property="og:description" content="RedisTemplate &amp; StringRedisTemplate 使用指南前言由于对于 Redis 始终停留在理论阶段——懂数据结构类型、数据结构底层实现、缓存击穿、缓存穿透、缓存雪崩，还有各种防xxx的方案，但是貌似都停留在学习上、代码阅读上，现在重新补充一下代码实现的细节上。 项目中很多地方使用了 StringRedisTemplate，其实是继承自 RedisTemplate">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://blogs.muxueavid.top/blogs/common/blog-ani7.png">
<meta property="article:published_time" content="2025-12-12T13:29:35.000Z">
<meta property="article:modified_time" content="2025-12-13T09:42:35.000Z">
<meta property="article:author" content="暮雪Avid">
<meta property="article:tag" content="Redis">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blogs.muxueavid.top/blogs/common/blog-ani7.png"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "RedisTemplate & StringRedisTemplate 使用指南",
  "url": "https://blogs.muxueavid.top/2025/12/12/Redis/RedisTemplate%E4%BD%BF%E7%94%A8/",
  "image": "https://blogs.muxueavid.top/blogs/common/blog-ani7.png",
  "datePublished": "2025-12-12T13:29:35.000Z",
  "dateModified": "2025-12-13T09:42:35.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "暮雪Avid",
      "url": "https://blogs.muxueavid.top/"
    }
  ]
}</script><link rel="shortcut icon" href="https://blogs.muxueavid.top/blogs/common/avator.jpg"><link rel="canonical" href="https://blogs.muxueavid.top/2025/12/12/Redis/RedisTemplate%E4%BD%BF%E7%94%A8/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":350,"highlightFullpage":false,"highlightMacStyle":true},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: true,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'RedisTemplate & StringRedisTemplate 使用指南',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load', preloader.endLoading)

  if (false) {
    btf.addGlobalFn('pjaxSend', preloader.initLoading, 'preloader_init')
    btf.addGlobalFn('pjaxComplete', preloader.endLoading, 'preloader_end')
  }
})()</script><div id="web_bg" style="background-image: url(https://blogs.muxueavid.top/blogs/common/background.jpg);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="https://blogs.muxueavid.top/blogs/common/avator.jpg" onerror="this.onerror=null;this.src='https://blogs.muxueavid.top/blogs/common/error.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">67</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">39</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 文章</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://blogs.muxueavid.top/blogs/common/blog-ani7.png);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">暮雪Avid的博客</span></a><a class="nav-page-title" href="/"><span class="site-name">RedisTemplate &amp; StringRedisTemplate 使用指南</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 文章</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">RedisTemplate &amp; StringRedisTemplate 使用指南</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-12-12T13:29:35.000Z" title="发表于 2025-12-12 21:29:35">2025-12-12</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-12-13T09:42:35.000Z" title="更新于 2025-12-13 17:42:35">2025-12-13</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">2.5k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>10分钟</span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="RedisTemplate-amp-StringRedisTemplate-使用指南"><a href="#RedisTemplate-amp-StringRedisTemplate-使用指南" class="headerlink" title="RedisTemplate &amp; StringRedisTemplate 使用指南"></a>RedisTemplate &amp; StringRedisTemplate 使用指南</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>由于对于 Redis 始终停留在理论阶段——懂数据结构类型、数据结构底层实现、缓存击穿、缓存穿透、缓存雪崩，还有各种防xxx的方案，但是貌似都停留在学习上、代码阅读上，现在重新补充一下代码实现的细节上。</p>
<p>项目中很多地方使用了 StringRedisTemplate，其实是继承自 RedisTemplate 的。</p>
<p>然后就去搜 RedisTemplate 的 API、搜如何使用，挑选了7-8篇博客结合 ai 整理知识点如下：</p>
<h2 id="从导入依赖开始"><a href="#从导入依赖开始" class="headerlink" title="从导入依赖开始"></a>从导入依赖开始</h2><p>为什么是从导入依赖开始呢？主要是这个过程引发了我的疑问：</p>
<p>看到有一篇博客使用如下pom依赖：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--Redis--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>但是我的项目中使用如下pom依赖：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.redisson<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>redisson-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>为什么引入的是 redisson，但是还能使用StringRedisTemplate 呢？</p>
<p>询问了一遍ai，两者的对比：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th><strong>场景</strong></th>
<th><strong>推荐依赖</strong></th>
<th><strong>原因</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>分布式锁</strong></td>
<td><strong>Redisson</strong></td>
<td>提供标准的 <code>RLock</code> 接口，内置看门狗（Watchdog）自动续期机制，健壮性高。</td>
</tr>
<tr>
<td><strong>基础缓存/Session</strong></td>
<td><strong>Spring Data Redis</strong></td>
<td>使用 <code>RedisTemplate</code> 或 Spring Cache 抽象，更贴合 Spring 生态标准。</td>
</tr>
<tr>
<td><strong>分布式限流/信号量</strong></td>
<td><strong>Redisson</strong></td>
<td>提供现成的 <code>RRateLimiter</code> 和 <code>RSemaphore</code>，直接调用即可。</td>
</tr>
<tr>
<td><strong>复杂数据结构操作</strong></td>
<td><strong>Redisson</strong></td>
<td>提供 <code>RMap</code>, <code>RSet</code> 等，操作方式与 Java 集合类一致，更符合面向对象习惯。</td>
</tr>
<tr>
<td><strong>直接执行 Redis 命令</strong></td>
<td><strong>Spring Data Redis</strong></td>
<td><code>RedisTemplate</code> 可以直接执行如 <code>opsForValue().set(...)</code> 等命令，与原生 Redis 命令映射更直接。</td>
</tr>
</tbody>
</table>
</div>
<p>所以想要使用 RedisTemplate 对数据库进行操作，本质上是要导入 <code>spring-boot-starter-data-redis</code>的。（然后导入 Redisson 其实就导入了 Spring Data Redis）</p>
<h2 id="写application-yml"><a href="#写application-yml" class="headerlink" title="写application.yml"></a>写application.yml</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">data:</span></span><br><span class="line">    <span class="attr">redis:</span></span><br><span class="line">      <span class="attr">port:</span> <span class="number">6379</span></span><br><span class="line">      <span class="attr">host:</span> <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span></span><br><span class="line">      <span class="attr">password:</span></span><br></pre></td></tr></table></figure>
<h2 id="RedisTemplate-常用-API"><a href="#RedisTemplate-常用-API" class="headerlink" title="RedisTemplate 常用 API"></a>RedisTemplate 常用 API</h2><p>Spring Data Redis 提供了 <code>RedisTemplate</code> 和 <code>StringRedisTemplate</code> 两个核心模板类。<code>RedisTemplate</code> 支持泛型（默认 JDK 序列化），<code>StringRedisTemplate</code> 专用于 String 类型的 Key-Value 操作（String 序列化）。</p>
<p>核心操作入口：</p>
<ul>
<li><code>opsForValue()</code>：操作 String（字符串）</li>
<li><code>opsForHash()</code>：操作 Hash（哈希）</li>
<li><code>opsForList()</code>：操作 List（列表）</li>
<li><code>opsForSet()</code>：操作 Set（集合）</li>
<li><code>opsForZSet()</code>：操作 ZSet（有序集合）</li>
</ul>
<h3 id="String-类型"><a href="#String-类型" class="headerlink" title="String 类型"></a>String 类型</h3><p>对应的 Redis 结构：String</p>
<p>核心类：ValueOperations<K, V></p>
<div class="table-container">
<table>
<thead>
<tr>
<th><strong>方法 (Java)</strong></th>
<th><strong>原始指令 (Redis)</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>set(key, value)</code></td>
<td><code>SET key value</code></td>
<td>设置键值对</td>
</tr>
<tr>
<td><code>set(key, value, timeout, unit)</code></td>
<td><code>SETEX key seconds value</code></td>
<td>设置键值对并指定过期时间</td>
</tr>
<tr>
<td><code>setIfAbsent(key, value)</code></td>
<td><code>SETNX key value</code></td>
<td>只有键不存在时才设置（分布式锁基础）</td>
</tr>
<tr>
<td><code>get(key)</code></td>
<td><code>GET key</code></td>
<td>获取值</td>
</tr>
<tr>
<td><code>increment(key, delta)</code></td>
<td><code>INCRBY key increment</code></td>
<td>原子递增</td>
</tr>
<tr>
<td><code>decrement(key, delta)</code></td>
<td><code>DECRBY key decrement</code></td>
<td>原子递减</td>
</tr>
</tbody>
</table>
</div>
<p><strong>Java 代码示例</strong>：</p>
<p>Java</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">@Autowired</span><br><span class="line">private RedisTemplate&lt;String, Object&gt; redisTemplate;</span><br><span class="line"></span><br><span class="line">public void stringDemo() &#123;</span><br><span class="line">    // 1. SET: 设置值</span><br><span class="line">    redisTemplate.opsForValue().set(&quot;user:1001&quot;, &quot;Jason&quot;);</span><br><span class="line"></span><br><span class="line">    // 2. SETEX: 设置值并设置5分钟过期</span><br><span class="line">    redisTemplate.opsForValue().set(&quot;code:1234&quot;, &quot;8888&quot;, 5, TimeUnit.MINUTES);</span><br><span class="line"></span><br><span class="line">    // 3. SETNX: 如果不存在则设置 (返回 boolean)</span><br><span class="line">    Boolean isSet = redisTemplate.opsForValue().setIfAbsent(&quot;lock:order:1&quot;, &quot;locked&quot;);</span><br><span class="line"></span><br><span class="line">    // 4. INCR: 计数器自增</span><br><span class="line">    redisTemplate.opsForValue().increment(&quot;article:view:1&quot;, 1);</span><br><span class="line">    </span><br><span class="line">    // 5. GET: 获取</span><br><span class="line">    Object value = redisTemplate.opsForValue().get(&quot;user:1001&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Hash-类型"><a href="#Hash-类型" class="headerlink" title="Hash 类型"></a>Hash 类型</h3><p>对应的 Redis 结构：Hash</p>
<p>核心类：HashOperations<K, HK, HV></p>
<div class="table-container">
<table>
<thead>
<tr>
<th><strong>方法 (Java)</strong></th>
<th><strong>原始指令 (Redis)</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>put(key, hashKey, value)</code></td>
<td><code>HSET key field value</code></td>
<td>设置 Hash 字段值</td>
</tr>
<tr>
<td><code>putAll(key, map)</code></td>
<td><code>HMSET key field value ...</code></td>
<td>批量设置 Hash 字段</td>
</tr>
<tr>
<td><code>get(key, hashKey)</code></td>
<td><code>HGET key field</code></td>
<td>获取指定字段值</td>
</tr>
<tr>
<td><code>entries(key)</code></td>
<td><code>HGETALL key</code></td>
<td>获取 Hash 表中所有字段和值</td>
</tr>
<tr>
<td><code>keys(key)</code></td>
<td><code>HKEYS key</code></td>
<td>获取所有字段名</td>
</tr>
<tr>
<td><code>delete(key, hashKey)</code></td>
<td><code>HDEL key field</code></td>
<td>删除一个或多个字段</td>
</tr>
</tbody>
</table>
</div>
<p><strong>Java 代码示例</strong>：</p>
<p>Java</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">public void hashDemo() &#123;</span><br><span class="line">    String key = &quot;cart:user:1001&quot;;</span><br><span class="line">    </span><br><span class="line">    // 1. HSET: 添加商品到购物车</span><br><span class="line">    redisTemplate.opsForHash().put(key, &quot;sku_123&quot;, &quot;1&quot;);</span><br><span class="line">    </span><br><span class="line">    // 2. HMSET: 批量添加</span><br><span class="line">    Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();</span><br><span class="line">    map.put(&quot;sku_456&quot;, &quot;2&quot;);</span><br><span class="line">    map.put(&quot;sku_789&quot;, &quot;5&quot;);</span><br><span class="line">    redisTemplate.opsForHash().putAll(key, map);</span><br><span class="line">    </span><br><span class="line">    // 3. HGET: 获取特定商品数量</span><br><span class="line">    Object count = redisTemplate.opsForHash().get(key, &quot;sku_123&quot;);</span><br><span class="line">    </span><br><span class="line">    // 4. HGETALL: 获取购物车所有商品</span><br><span class="line">    Map&lt;Object, Object&gt; items = redisTemplate.opsForHash().entries(key);</span><br><span class="line">    </span><br><span class="line">    // 5. HDEL: 删除商品</span><br><span class="line">    redisTemplate.opsForHash().delete(key, &quot;sku_123&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="List-类型"><a href="#List-类型" class="headerlink" title="List 类型"></a>List 类型</h3><p>对应的 Redis 结构：List (双向链表)</p>
<p>核心类：ListOperations<K, V></p>
<div class="table-container">
<table>
<thead>
<tr>
<th><strong>方法 (Java)</strong></th>
<th><strong>原始指令 (Redis)</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>leftPush(key, value)</code></td>
<td><code>LPUSH key value</code></td>
<td>从左侧（头部）推入</td>
</tr>
<tr>
<td><code>rightPush(key, value)</code></td>
<td><code>RPUSH key value</code></td>
<td>从右侧（尾部）推入</td>
</tr>
<tr>
<td><code>leftPop(key)</code></td>
<td><code>LPOP key</code></td>
<td>从左侧弹出</td>
</tr>
<tr>
<td><code>rightPop(key)</code></td>
<td><code>RPOP key</code></td>
<td>从右侧弹出</td>
</tr>
<tr>
<td><code>range(key, start, end)</code></td>
<td><code>LRANGE key start stop</code></td>
<td>获取指定范围元素（0, -1 为全部）</td>
</tr>
</tbody>
</table>
</div>
<p><strong>Java 代码示例</strong>：</p>
<p>Java</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">public void listDemo() &#123;</span><br><span class="line">    String key = &quot;task:queue&quot;;</span><br><span class="line">    </span><br><span class="line">    // 1. LPUSH: 生产者推送消息</span><br><span class="line">    redisTemplate.opsForList().leftPush(key, &quot;task_1&quot;);</span><br><span class="line">    redisTemplate.opsForList().leftPushAll(key, &quot;task_2&quot;, &quot;task_3&quot;);</span><br><span class="line">    </span><br><span class="line">    // 2. RPOP: 消费者消费消息</span><br><span class="line">    Object task = redisTemplate.opsForList().rightPop(key);</span><br><span class="line">    </span><br><span class="line">    // 3. LRANGE: 查看队列所有数据</span><br><span class="line">    List&lt;Object&gt; allTasks = redisTemplate.opsForList().range(key, 0, -1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Set-类型"><a href="#Set-类型" class="headerlink" title="Set 类型"></a>Set 类型</h3><p>对应的 Redis 结构：Set (无序去重集合)</p>
<p>核心类：SetOperations<K, V></p>
<div class="table-container">
<table>
<thead>
<tr>
<th><strong>方法 (Java)</strong></th>
<th><strong>原始指令 (Redis)</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>add(key, values...)</code></td>
<td><code>SADD key member ...</code></td>
<td>添加元素</td>
</tr>
<tr>
<td><code>members(key)</code></td>
<td><code>SMEMBERS key</code></td>
<td>获取所有成员</td>
</tr>
<tr>
<td><code>isMember(key, value)</code></td>
<td><code>SISMEMBER key member</code></td>
<td>判断是否是成员</td>
</tr>
<tr>
<td><code>size(key)</code></td>
<td><code>SCARD key</code></td>
<td>获取集合大小</td>
</tr>
<tr>
<td><code>remove(key, values...)</code></td>
<td><code>SREM key member ...</code></td>
<td>移除元素</td>
</tr>
</tbody>
</table>
</div>
<p><strong>Java 代码示例</strong>：</p>
<p>Java</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">public void setDemo() &#123;</span><br><span class="line">    String key = &quot;users:like:article:1&quot;;</span><br><span class="line">    </span><br><span class="line">    // 1. SADD: 点赞（去重）</span><br><span class="line">    redisTemplate.opsForSet().add(key, &quot;user_1&quot;, &quot;user_2&quot;, &quot;user_3&quot;);</span><br><span class="line">    </span><br><span class="line">    // 2. SISMEMBER: 检查是否点赞过</span><br><span class="line">    Boolean hasLiked = redisTemplate.opsForSet().isMember(key, &quot;user_1&quot;);</span><br><span class="line">    </span><br><span class="line">    // 3. SMEMBERS: 获取所有点赞用户</span><br><span class="line">    Set&lt;Object&gt; users = redisTemplate.opsForSet().members(key);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ZSet-类型"><a href="#ZSet-类型" class="headerlink" title="ZSet 类型"></a>ZSet 类型</h3><p>对应的 Redis 结构：Sorted Set (有序集合)</p>
<p>核心类：ZSetOperations<K, V></p>
<div class="table-container">
<table>
<thead>
<tr>
<th><strong>方法 (Java)</strong></th>
<th><strong>原始指令 (Redis)</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>add(key, value, score)</code></td>
<td><code>ZADD key score member</code></td>
<td>添加元素并指定分数</td>
</tr>
<tr>
<td><code>range(key, start, end)</code></td>
<td><code>ZRANGE key start stop</code></td>
<td>正序获取范围元素</td>
</tr>
<tr>
<td><code>reverseRange(key, start, end)</code></td>
<td><code>ZREVRANGE key start stop</code></td>
<td>倒序获取范围元素（常用于排行榜）</td>
</tr>
<tr>
<td><code>incrementScore(key, v, delta)</code></td>
<td><code>ZINCRBY key increment member</code></td>
<td>增加元素分数</td>
</tr>
</tbody>
</table>
</div>
<p><strong>Java 代码示例</strong>：</p>
<p>Java</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">public void zSetDemo() &#123;</span><br><span class="line">    String key = &quot;game:rank&quot;;</span><br><span class="line">    </span><br><span class="line">    // 1. ZADD: 更新玩家分数</span><br><span class="line">    redisTemplate.opsForZSet().add(key, &quot;PlayerA&quot;, 100);</span><br><span class="line">    redisTemplate.opsForZSet().add(key, &quot;PlayerB&quot;, 95);</span><br><span class="line">    </span><br><span class="line">    // 2. ZINCRBY: 分数增加</span><br><span class="line">    redisTemplate.opsForZSet().incrementScore(key, &quot;PlayerA&quot;, 10); // 变为 110</span><br><span class="line">    </span><br><span class="line">    // 3. ZREVRANGE: 获取 Top 10 排行榜</span><br><span class="line">    Set&lt;Object&gt; top10 = redisTemplate.opsForZSet().reverseRange(key, 0, 9);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="通用-Key-操作"><a href="#通用-Key-操作" class="headerlink" title="通用 Key 操作"></a>通用 Key 操作</h3><p>这些操作直接在 <code>RedisTemplate</code> 实例上调用，不经过 <code>opsForX</code>。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th><strong>方法 (Java)</strong></th>
<th><strong>原始指令 (Redis)</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>delete(key)</code></td>
<td><code>DEL key</code></td>
<td>删除 Key</td>
</tr>
<tr>
<td><code>hasKey(key)</code></td>
<td><code>EXISTS key</code></td>
<td>检查 Key 是否存在</td>
</tr>
<tr>
<td><code>expire(key, time, unit)</code></td>
<td><code>EXPIRE key seconds</code></td>
<td>设置过期时间</td>
</tr>
<tr>
<td><code>getExpire(key)</code></td>
<td><code>TTL key</code></td>
<td>获取剩余存活时间</td>
</tr>
<tr>
<td><code>keys(pattern)</code></td>
<td><code>KEYS pattern</code></td>
<td>查找匹配的 Key（生产环境慎用）</td>
</tr>
</tbody>
</table>
</div>
<p><strong>Java 代码示例</strong>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">commonDemo</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> <span class="string">&quot;temp:data&quot;</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 1. EXPIRE: 设置过期时间</span></span><br><span class="line">    redisTemplate.expire(key, <span class="number">10</span>, TimeUnit.SECONDS);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 2. TTL: 获取剩余时间</span></span><br><span class="line">    <span class="type">Long</span> <span class="variable">expire</span> <span class="operator">=</span> redisTemplate.getExpire(key);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 3. DEL: 删除</span></span><br><span class="line">    redisTemplate.delete(key);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 4. EXISTS: 检查存在</span></span><br><span class="line">    <span class="type">Boolean</span> <span class="variable">exists</span> <span class="operator">=</span> redisTemplate.hasKey(key);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="StringRedisTemplate-常用-API"><a href="#StringRedisTemplate-常用-API" class="headerlink" title="StringRedisTemplate 常用 API"></a>StringRedisTemplate 常用 API</h2><p><code>StringRedisTemplate</code> 是 <code>RedisTemplate&lt;String, String&gt;</code> 的子类，其 Key 和 Value 的序列化器默认都配置为 <code>StringRedisSerializer</code>。这意味着它存入 Redis 的数据是纯字符串，不会包含任何 Java 类信息（class info），在 Redis 客户端（如 redis-cli）中查看时完全可读。</p>
<p><strong>核心特点：</strong></p>
<ul>
<li><strong>Key</strong>：必须是 String。</li>
<li><strong>Value</strong>：必须是 String。</li>
<li><strong>适用场景</strong>：缓存简单的字符串、计数器、或者<strong>手动</strong>将对象转为 JSON 字符串后存储（这是最常用的方式，能避免序列化反序列化的类兼容性问题）。</li>
</ul>
<p>无需额外配置，Spring Boot 自动装配，直接注入即可：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> StringRedisTemplate stringRedisTemplate;</span><br></pre></td></tr></table></figure>
<h3 id="String-类型-1"><a href="#String-类型-1" class="headerlink" title="String 类型"></a>String 类型</h3><p><strong>场景</strong>：缓存 JSON 字符串、验证码、计数器。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">stringDemo</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// 1. SET: 存入普通字符串</span></span><br><span class="line">    stringRedisTemplate.opsForValue().set(<span class="string">&quot;city&quot;</span>, <span class="string">&quot;Beijing&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2. SETEX: 存入验证码，60秒过期</span></span><br><span class="line">    stringRedisTemplate.opsForValue().set(<span class="string">&quot;sms:code:13800000000&quot;</span>, <span class="string">&quot;123456&quot;</span>, <span class="number">60</span>, TimeUnit.SECONDS);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3. INCR: 计数器 (虽然是字符串，但如果是数字格式，Redis 允许自增)</span></span><br><span class="line">    stringRedisTemplate.opsForValue().increment(<span class="string">&quot;page:view&quot;</span>, <span class="number">1</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 4. GET: 取出</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">value</span> <span class="operator">=</span> stringRedisTemplate.opsForValue().get(<span class="string">&quot;city&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Hash-类型-1"><a href="#Hash-类型-1" class="headerlink" title="Hash 类型"></a>Hash 类型</h3><p><strong>注意</strong>：Hash 的 Field（项）和 Value（值）也都必须是 String。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">hashDemo</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> <span class="string">&quot;user:1001:profile&quot;</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 1. HSET: 所有的值都必须转为 String</span></span><br><span class="line">    stringRedisTemplate.opsForHash().put(key, <span class="string">&quot;name&quot;</span>, <span class="string">&quot;Jason&quot;</span>);</span><br><span class="line">    stringRedisTemplate.opsForHash().put(key, <span class="string">&quot;age&quot;</span>, <span class="string">&quot;18&quot;</span>); <span class="comment">// int 要转 string</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 2. HGET: 获取出来也是 String</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> (String) stringRedisTemplate.opsForHash().get(key, <span class="string">&quot;name&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 3. HMGET: 获取多个字段</span></span><br><span class="line">    List&lt;Object&gt; values = stringRedisTemplate.opsForHash().multiGet(key, Arrays.asList(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;age&quot;</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="List-类型-1"><a href="#List-类型-1" class="headerlink" title="List 类型"></a>List 类型</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">listDemo</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> <span class="string">&quot;msg:queue&quot;</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// LPUSH</span></span><br><span class="line">    stringRedisTemplate.opsForList().leftPush(key, <span class="string">&quot;message_1&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// LRANGE</span></span><br><span class="line">    List&lt;String&gt; list = stringRedisTemplate.opsForList().range(key, <span class="number">0</span>, -<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Set-类型-1"><a href="#Set-类型-1" class="headerlink" title="Set 类型"></a>Set 类型</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setDemo</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> <span class="string">&quot;tags:java&quot;</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// SADD</span></span><br><span class="line">    stringRedisTemplate.opsForSet().add(key, <span class="string">&quot;spring&quot;</span>, <span class="string">&quot;redis&quot;</span>, <span class="string">&quot;mybatis&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// SMEMBERS</span></span><br><span class="line">    Set&lt;String&gt; members = stringRedisTemplate.opsForSet().members(key);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ZSet-类型-1"><a href="#ZSet-类型-1" class="headerlink" title="ZSet 类型"></a>ZSet 类型</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">zsetDemo</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> <span class="string">&quot;ranking&quot;</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ZADD</span></span><br><span class="line">    stringRedisTemplate.opsForZSet().add(key, <span class="string">&quot;user_a&quot;</span>, <span class="number">100</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ZRANGE: 获取 String 类型的成员</span></span><br><span class="line">    Set&lt;String&gt; topUsers = stringRedisTemplate.opsForZSet().range(key, <span class="number">0</span>, <span class="number">10</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="如何存储对象？"><a href="#如何存储对象？" class="headerlink" title="如何存储对象？"></a>如何存储对象？</h3><p>在企业开发中，<code>StringRedisTemplate</code> 最常见的用法是<strong>手动序列化</strong>。</p>
<p>为什么要手动序列化？</p>
<p>如果使用 RedisTemplate<String, Object> 并配置 Jackson 序列化器，Redis 中会存储额外的 @class 属性（全限定类名）。如果将来包名变了，或者不同项目共用 Redis 但包结构不同，反序列化就会报错。</p>
<p>使用 <code>StringRedisTemplate</code> + <code>JSON工具</code> 可以完全掌控数据格式，通用性最强。</p>
<p><strong>代码示例：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> StringRedisTemplate stringRedisTemplate;</span><br><span class="line"><span class="comment">// 假设使用 Hutool 的 JSONUtil 或 Jackson 的 ObjectMapper</span></span><br><span class="line"><span class="comment">// import cn.hutool.json.JSONUtil;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">objectDemo</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="number">1</span>, <span class="string">&quot;Jason&quot;</span>, <span class="string">&quot;admin&quot;</span>);</span><br><span class="line">    <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> <span class="string">&quot;user:1&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 【存】：手动转为 JSON 字符串</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">jsonStr</span> <span class="operator">=</span> JSONUtil.toJsonStr(user); </span><br><span class="line">    stringRedisTemplate.opsForValue().set(key, jsonStr);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 【取】：取出字符串，手动转回对象</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">resultJson</span> <span class="operator">=</span> stringRedisTemplate.opsForValue().get(key);</span><br><span class="line">    <span class="keyword">if</span> (resultJson != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="type">User</span> <span class="variable">resultUser</span> <span class="operator">=</span> JSONUtil.toBean(resultJson, User.class);</span><br><span class="line">        System.out.println(resultUser.getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="推荐-StringRedisTemplate"><a href="#推荐-StringRedisTemplate" class="headerlink" title="推荐-StringRedisTemplate"></a>推荐-StringRedisTemplate</h2><div class="table-container">
<table>
<thead>
<tr>
<th><strong>模板类</strong></th>
<th><strong>泛型</strong></th>
<th><strong>序列化方式</strong></th>
<th><strong>适用场景</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>StringRedisTemplate</strong></td>
<td><code>&lt;String, String&gt;</code></td>
<td>String 序列化</td>
<td><strong>首选</strong>。存取普通字符串，或<strong>手动转换 JSON 对象</strong>。数据通用性最强，无类名耦合。</td>
</tr>
<tr>
<td><strong>RedisTemplate</strong></td>
<td><code>&lt;String, Object&gt;</code></td>
<td>需手动配置 (JSON/JDK)</td>
<td>适合<strong>仅仅在 Java 内部使用</strong>，且不希望手动编写 JSON 转换代码的场景。但需注意类名兼容性。</td>
</tr>
</tbody>
</table>
</div>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Redis/">Redis</a></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2025/12/10/%E5%89%8D%E7%AB%AF/nvm%E4%BD%BF%E7%94%A8/" title="nvm使用"><img class="cover" src="https://blogs.muxueavid.top/blogs/common/blog-ani10.png" onerror="onerror=null;src='https://blogs.muxueavid.top/blogs/common/error.png'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">nvm使用</div></div><div class="info-2"><div class="info-item-1">nvm：Node 版本管理工具nvm 是什么nvm（Node Version Manager）是一款用于管理 Node.js 版本的工具。它允许在同一台机器上安装多个 Node 版本，并可随时切换。避免因不同项目依赖不同 Node 版本而导致冲突。 核心功能  安装多个 Node 版本 快速切换当前使用的版本 卸载不再需要的版本 隔离不同 Node 版本的全局包环境  简单原理nvm 使用目录隔离不同 Node 版本，并在你切换版本时动态修改系统 PATH 指向对应版本。无需重新安装系统级 Node，也不会破坏现有项目。 Windows 平台的 nvm（nvm-windows）Windows 不支持官方 Linux nvm 工具，需要使用专门为 Windows 编写的版本：nvm-windows（又叫 nvm for Windows）这是一个独立实现，与 Linux/macOS 的原版 nvm 不同，但功能一致。 Windows 安装步骤卸载旧版 Node（若已安装）以前直接从官网安装过 Node，需要先卸载：控制面板 → 程序 → 卸载...</div></div></div></a><a class="pagination-related" href="/2025/12/13/Redis/Redis%E4%B8%ADLua%E8%84%9A%E6%9C%AC%E7%9A%84%E4%BD%BF%E7%94%A8/" title="Redis中Lua脚本的使用"><img class="cover" src="https://blogs.muxueavid.top/blogs/common/blog-ani1.png" onerror="onerror=null;src='https://blogs.muxueavid.top/blogs/common/error.png'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">Redis中Lua脚本的使用</div></div><div class="info-2"><div class="info-item-1">Redis中Lua脚本的使用参考资料：cnblogs.com、Redis Lua 脚本介绍Redis 从 2.6 版本开始内置 Lua 脚本执行引擎，用于在服务器端组合多个 Redis 命令为一个原子操作，从而避免客户端多次往返网络、保证复杂逻辑的原子性执行。Lua 是一种轻量级、可嵌入的脚本语言，非常适合嵌入 Redis 这种高性能内存数据库中。 Lua 在 Redis 中执行时无需额外配置，只需通过命令将脚本发送到 Redis。脚本由 Redis Server 内的 Lua 5.1 解释器运行。Redis 脚本将命令组合在一起，避免多次网络往返，并在执行期间阻塞其他客户端命令，确保原子性。脚本执行结果可返回值给客户端。 Lua 脚本基本语法Lua 语法简单，适合嵌入式脚本应用。基本数据类型包括：nil（空）、boolean（布尔值）、number（数字）、string（字符串）和 table（表）。table 是 Lua 的核心数据结构，它既可表现为数组也可表现为字典。 变量声明： 12name = &#x27;example&#x27;       --...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2025/12/23/Redis/Redis-AOF%E3%80%81RDB-%E6%8C%81%E4%B9%85%E5%8C%96%E7%AD%96%E7%95%A5/" title="Redis AOF、RDB 持久化策略"><img class="cover" src="https://blogs.muxueavid.top/blogs/common/blog-ani11.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-12-23</div><div class="info-item-2">Redis AOF、RDB 持久化策略</div></div><div class="info-2"><div class="info-item-1">Redis 持久化策略Redis 为什么需要持久化？Redis 是基于内存的数据库，内存访问速度快，但内存数据在进程退出或机器宕机后必然丢失。因此，Redis 提供持久化机制，将内存中的数据以一定策略写入磁盘，用于服务重启后的数据恢复。 需要明确一个前提结论：  Redis 持久化只能降低数据丢失风险，并不能保证强一致性或绝对不丢数据。实际丢失多少数据，取决于持久化策略、刷盘频率以及宕机发生的时间点。  Redis 提供两种核心持久化机制：  AOF（Append Only File）日志 RDB（Redis DataBase）快照  AOF 日志持久化AOF 是什么AOF（Append Only File）通过记录写命令的方式持久化数据。Redis 会将所有会修改数据的命令，按执行顺序追加写入日志文件。 AOF 默认是关闭的，可通过配置开启： 12appendonly yesappendfilename &quot;appendonly.aof&quot; AOF 只记录写操作命令，不记录读操作，因为读命令无法用于数据恢复。 AOF...</div></div></div></a><a class="pagination-related" href="/2025/12/14/Redis/Redis-%E5%BA%95%E5%B1%82%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" title="Redis 底层数据结构"><img class="cover" src="https://blogs.muxueavid.top/blogs/common/blog-ani8.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-12-14</div><div class="info-item-2">Redis 底层数据结构</div></div><div class="info-2"><div class="info-item-1">Redis 底层数据结构Redis 的高性能并非来自单一结构，而是通过多种针对场景高度定制的数据结构实现。上层五种数据类型（String / List / Hash / Set / ZSet）只是抽象接口，真正的性能边界由底层结构决定。 SDS（Simple Dynamic String）基本原理SDS 是 Redis 自定义的字符串实现，替代 C 原生 char*。其核心是显式维护字符串长度与剩余空间。 典型结构： 12345struct sdshdr &#123;    int len;    // 已用长度    int alloc;  // 分配总长度    char buf[];&#125; 核心特点 O(1) 获取长度（避免 strlen） 支持二进制数据（不依赖 \0作为字符串的结尾） 预分配与惰性释放，减少内存重分配 避免缓冲区溢出  使用到的数据类型 String 所有 key Hash / List / Set / ZSet 内部元素  时间复杂度 获取长度：O(1) 追加：均摊 O(1) 修改：O(n)  链表（Linked...</div></div></div></a><a class="pagination-related" href="/2025/12/22/Redis/Redis-%E4%BD%BF%E7%94%A8%E5%AE%9E%E8%B7%B5/" title="Redis 使用实践"><img class="cover" src="https://blogs.muxueavid.top/blogs/common/blog-ani6.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-12-22</div><div class="info-item-2">Redis 使用实践</div></div><div class="info-2"><div class="info-item-1">这一部分更多偏实践部分，理论部分见其余 Redis 相关博客</div></div></div></a><a class="pagination-related" href="/2025/12/22/Redis/Redis-%E8%BF%87%E6%9C%9F%E5%88%A0%E9%99%A4%E7%AD%96%E7%95%A5-%E7%BC%93%E5%AD%98%E6%B7%98%E6%B1%B0%E7%AD%96%E7%95%A5/" title="Redis 过期删除策略+缓存淘汰策略"><img class="cover" src="https://blogs.muxueavid.top/blogs/common/blog-ani1.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-12-22</div><div class="info-item-2">Redis 过期删除策略+缓存淘汰策略</div></div><div class="info-2"><div class="info-item-1">Redis 过期删除策略在介绍 Redis 的过期删除机制之前，需要先说明：定时删除、惰性删除、定期删除是对过期数据清理思路的抽象划分，用于分析不同策略在 CPU 开销与内存占用之间的取舍。实际的高性能缓存系统通常不会采用其中某一种，而是进行组合设计。 常见的过期删除策略1. 定时删除定时删除指的是：当键到达过期时间的瞬间立即删除该键。 其实现通常需要：  为每一个设置了过期时间的 key 维护独立的定时事件（如定时器或最小堆） 到期后触发删除回调  优点：  过期键能够被及时清理 内存利用率高  缺点：  定时事件数量与过期 key 数量近似线性相关 当过期 key 较多时，定时回调会占用大量 CPU 严重影响主线程吞吐量  因此，Redis 并未采用这种高精度但高成本的策略。 2. 惰性删除惰性删除的核心思想是：不主动删除过期 key，仅在访问时检查其是否过期。 执行流程：  客户端访问 key Redis 判断 key 是否已过期 若已过期，立即删除并返回 key 不存在  优点：  对 CPU 非常友好 不做无意义的主动扫描  缺点：  如果某些 key...</div></div></div></a><a class="pagination-related" href="/2025/12/22/Redis/Redis-%E7%BA%BF%E7%A8%8B%E6%A8%A1%E5%9E%8B/" title="Redis 线程模型"><img class="cover" src="https://blogs.muxueavid.top/blogs/common/blog-ani7.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-12-22</div><div class="info-item-2">Redis 线程模型</div></div><div class="info-2"><div class="info-item-1">Redis 线程模型Redis 常被描述为“单线程高性能”的代表，但单线程并不等于简单或低效。准确理解 Redis 的线程模型，需要区分：命令执行、网络 I/O、后台任务这三条路径。 Redis 的单线程指的是什么是指—— Redis 的命令执行路径（command execution）是单线程的。 具体来说：  所有客户端命令，统一在 主线程 中，按顺序完成：读取 → 解析 → 执行 → 返回结果    这意味着：  不需要加锁、命令天然具备原子性、数据结构实现可以极度简化   但是，Redis 并不是整个进程只有一个线程  基于内存的设计Redis 将所有核心数据结构存放在内存中，而不是磁盘。 这带来的不仅是“快”这么简单：  避免磁盘 I/O 阻塞 单次命令执行时间高度可控 延迟分布稳定，适合单线程顺序执行模型  相比之下，频繁访问磁盘的系统（如传统关系型数据库）更容易出现阻塞点，不适合纯单线程执行所有逻辑。 关于数据不丢失的问题Redis...</div></div></div></a><a class="pagination-related" href="/2025/12/13/Redis/Redis%E4%B8%ADLua%E8%84%9A%E6%9C%AC%E7%9A%84%E4%BD%BF%E7%94%A8/" title="Redis中Lua脚本的使用"><img class="cover" src="https://blogs.muxueavid.top/blogs/common/blog-ani1.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-12-13</div><div class="info-item-2">Redis中Lua脚本的使用</div></div><div class="info-2"><div class="info-item-1">Redis中Lua脚本的使用参考资料：cnblogs.com、Redis Lua 脚本介绍Redis 从 2.6 版本开始内置 Lua 脚本执行引擎，用于在服务器端组合多个 Redis 命令为一个原子操作，从而避免客户端多次往返网络、保证复杂逻辑的原子性执行。Lua 是一种轻量级、可嵌入的脚本语言，非常适合嵌入 Redis 这种高性能内存数据库中。 Lua 在 Redis 中执行时无需额外配置，只需通过命令将脚本发送到 Redis。脚本由 Redis Server 内的 Lua 5.1 解释器运行。Redis 脚本将命令组合在一起，避免多次网络往返，并在执行期间阻塞其他客户端命令，确保原子性。脚本执行结果可返回值给客户端。 Lua 脚本基本语法Lua 语法简单，适合嵌入式脚本应用。基本数据类型包括：nil（空）、boolean（布尔值）、number（数字）、string（字符串）和 table（表）。table 是 Lua 的核心数据结构，它既可表现为数组也可表现为字典。 变量声明： 12name = &#x27;example&#x27;       --...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="https://blogs.muxueavid.top/blogs/common/avator.jpg" onerror="this.onerror=null;this.src='https://blogs.muxueavid.top/blogs/common/error.gif'" alt="avatar"/></div><div class="author-info-name">暮雪Avid</div><div class="author-info-description">热爱+时间=实现</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">67</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">39</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Yukinoshita52"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/Yukinoshita52" target="_blank" title="Github"><i class="fab fa-github" style="color: #4a7dbe;"></i></a><a class="social-icon" href="https://https://muxueblogs.netlify.app/about/" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a><a class="social-icon" href="https://space.bilibili.com/1808485376?spm_id_from=333.1007.0.0" target="_blank" title="Bilibili"><i class="fa-brands fa-bilibili" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">如出现图片访问失败问题，请科学上网，诶嘿(*^▽^*)</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#RedisTemplate-amp-StringRedisTemplate-%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97"><span class="toc-number">1.</span> <span class="toc-text">RedisTemplate &amp; StringRedisTemplate 使用指南</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8E%E5%AF%BC%E5%85%A5%E4%BE%9D%E8%B5%96%E5%BC%80%E5%A7%8B"><span class="toc-number">1.2.</span> <span class="toc-text">从导入依赖开始</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%99application-yml"><span class="toc-number">1.3.</span> <span class="toc-text">写application.yml</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#RedisTemplate-%E5%B8%B8%E7%94%A8-API"><span class="toc-number">1.4.</span> <span class="toc-text">RedisTemplate 常用 API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#String-%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.4.1.</span> <span class="toc-text">String 类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Hash-%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.4.2.</span> <span class="toc-text">Hash 类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#List-%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.4.3.</span> <span class="toc-text">List 类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Set-%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.4.4.</span> <span class="toc-text">Set 类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ZSet-%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.4.5.</span> <span class="toc-text">ZSet 类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9A%E7%94%A8-Key-%E6%93%8D%E4%BD%9C"><span class="toc-number">1.4.6.</span> <span class="toc-text">通用 Key 操作</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#StringRedisTemplate-%E5%B8%B8%E7%94%A8-API"><span class="toc-number">1.5.</span> <span class="toc-text">StringRedisTemplate 常用 API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#String-%E7%B1%BB%E5%9E%8B-1"><span class="toc-number">1.5.1.</span> <span class="toc-text">String 类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Hash-%E7%B1%BB%E5%9E%8B-1"><span class="toc-number">1.5.2.</span> <span class="toc-text">Hash 类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#List-%E7%B1%BB%E5%9E%8B-1"><span class="toc-number">1.5.3.</span> <span class="toc-text">List 类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Set-%E7%B1%BB%E5%9E%8B-1"><span class="toc-number">1.5.4.</span> <span class="toc-text">Set 类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ZSet-%E7%B1%BB%E5%9E%8B-1"><span class="toc-number">1.5.5.</span> <span class="toc-text">ZSet 类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%AD%98%E5%82%A8%E5%AF%B9%E8%B1%A1%EF%BC%9F"><span class="toc-number">1.5.6.</span> <span class="toc-text">如何存储对象？</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%A8%E8%8D%90-StringRedisTemplate"><span class="toc-number">1.6.</span> <span class="toc-text">推荐-StringRedisTemplate</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/12/23/Redis/Redis-AOF%E3%80%81RDB-%E6%8C%81%E4%B9%85%E5%8C%96%E7%AD%96%E7%95%A5/" title="Redis AOF、RDB 持久化策略"><img src="https://blogs.muxueavid.top/blogs/common/blog-ani11.png" onerror="this.onerror=null;this.src='https://blogs.muxueavid.top/blogs/common/error.png'" alt="Redis AOF、RDB 持久化策略"/></a><div class="content"><a class="title" href="/2025/12/23/Redis/Redis-AOF%E3%80%81RDB-%E6%8C%81%E4%B9%85%E5%8C%96%E7%AD%96%E7%95%A5/" title="Redis AOF、RDB 持久化策略">Redis AOF、RDB 持久化策略</a><time datetime="2025-12-23T06:08:04.000Z" title="发表于 2025-12-23 14:08:04">2025-12-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/12/22/Redis/Redis-%E8%BF%87%E6%9C%9F%E5%88%A0%E9%99%A4%E7%AD%96%E7%95%A5-%E7%BC%93%E5%AD%98%E6%B7%98%E6%B1%B0%E7%AD%96%E7%95%A5/" title="Redis 过期删除策略+缓存淘汰策略"><img src="https://blogs.muxueavid.top/blogs/common/blog-ani1.png" onerror="this.onerror=null;this.src='https://blogs.muxueavid.top/blogs/common/error.png'" alt="Redis 过期删除策略+缓存淘汰策略"/></a><div class="content"><a class="title" href="/2025/12/22/Redis/Redis-%E8%BF%87%E6%9C%9F%E5%88%A0%E9%99%A4%E7%AD%96%E7%95%A5-%E7%BC%93%E5%AD%98%E6%B7%98%E6%B1%B0%E7%AD%96%E7%95%A5/" title="Redis 过期删除策略+缓存淘汰策略">Redis 过期删除策略+缓存淘汰策略</a><time datetime="2025-12-22T12:08:37.000Z" title="发表于 2025-12-22 20:08:37">2025-12-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/12/22/Redis/Redis-%E4%BD%BF%E7%94%A8%E5%AE%9E%E8%B7%B5/" title="Redis 使用实践"><img src="https://blogs.muxueavid.top/blogs/common/blog-ani6.png" onerror="this.onerror=null;this.src='https://blogs.muxueavid.top/blogs/common/error.png'" alt="Redis 使用实践"/></a><div class="content"><a class="title" href="/2025/12/22/Redis/Redis-%E4%BD%BF%E7%94%A8%E5%AE%9E%E8%B7%B5/" title="Redis 使用实践">Redis 使用实践</a><time datetime="2025-12-22T11:25:26.000Z" title="发表于 2025-12-22 19:25:26">2025-12-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/12/22/Redis/Redis-%E7%BA%BF%E7%A8%8B%E6%A8%A1%E5%9E%8B/" title="Redis 线程模型"><img src="https://blogs.muxueavid.top/blogs/common/blog-ani7.png" onerror="this.onerror=null;this.src='https://blogs.muxueavid.top/blogs/common/error.png'" alt="Redis 线程模型"/></a><div class="content"><a class="title" href="/2025/12/22/Redis/Redis-%E7%BA%BF%E7%A8%8B%E6%A8%A1%E5%9E%8B/" title="Redis 线程模型">Redis 线程模型</a><time datetime="2025-12-22T10:01:25.000Z" title="发表于 2025-12-22 18:01:25">2025-12-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/12/16/other/docker%E4%B8%AA%E4%BA%BA%E5%AE%9E%E8%B7%B5%E8%AE%B0%E5%BD%95/" title="docker个人实践记录"><img src="https://blogs.muxueavid.top/blogs/common/blog-ani5.png" onerror="this.onerror=null;this.src='https://blogs.muxueavid.top/blogs/common/error.png'" alt="docker个人实践记录"/></a><div class="content"><a class="title" href="/2025/12/16/other/docker%E4%B8%AA%E4%BA%BA%E5%AE%9E%E8%B7%B5%E8%AE%B0%E5%BD%95/" title="docker个人实践记录">docker个人实践记录</a><time datetime="2025-12-16T07:44:45.000Z" title="发表于 2025-12-16 15:44:45">2025-12-16</time></div></div></div></div></div></div></main><footer id="footer" style="background: transparent;"><div id="footer-wrap"><div class="copyright">&copy;2025 - 2026 By 暮雪Avid</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.3.5</a></div><div class="footer_custom_text"><a target="_blank" rel="noopener" href="https://beian.miit.gov.cn"><img class="icp-icon" src="https://npm.elemecdn.com/nanshen@latest/img/icp.webp"><span>浙ICP备2025158028号-1</span></a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><div class="js-pjax"><script>(() => {
  const loadMathjax = () => {
    if (!window.MathJax) {
      window.MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']],
          tags: 'none',
        },
        chtml: {
          scale: 1.1
        },
        options: {
          enableMenu: true,
          renderActions: {
            findScript: [10, doc => {
              for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
                const display = !!node.type.match(/; *mode=display/)
                const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
                const text = document.createTextNode('')
                node.parentNode.replaceChild(text, node)
                math.start = {node: text, delim: '', n: 0}
                math.end = {node: text, delim: '', n: 0}
                doc.math.push(math)
              }
            }, '']
          }
        }
      }

      const script = document.createElement('script')
      script.src = 'https://cdn.jsdelivr.net/npm/mathjax/es5/tex-mml-chtml.min.js'
      script.id = 'MathJax-script'
      script.async = true
      document.head.appendChild(script)
    } else {
      MathJax.startup.document.state(0)
      MathJax.texReset()
      MathJax.typesetPromise()
    }
  }

  btf.addGlobalFn('encrypt', loadMathjax, 'mathjax')
  window.pjax ? loadMathjax() : window.addEventListener('load', loadMathjax)
})()</script></div><script src="/js/cursor-right.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-show-text.min.js" data-mobile="false" data-text="富强,民主,文明,和谐,Yukinoshita,自由,平等,公正,诶嘿o(*￣︶￣*)o,法治,爱国,Yukino,敬业,诚信,友善" data-fontsize="15px" data-random="false" async="async"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>